{"version":3,"sources":["Root.less","index.js","UpDate.js","serviceWorker.js","main.js"],"names":["module","exports","main","downList","downLayout","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","window","require","ReactDOM","render","a","createElement","style","color","document","getElementById","remote","ipcRenderer","clipboard","Root","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","console","log","styles","state","loadType","loadMsg","filesCurr","osType","progressing","upDateUserInfo","config","cb","_this2","on","event","text","setState","send","indexOf","JSON","parse","files","initNewApp","_this3","awaken","e","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","file","value","upState","err","return","react_default","className","result","icon","type","theme","title","extra","map","key","UpDate_DownView","unKey","app","getVersion","renderLoad","Component","DownView","_this4","down","percent","msg","percentMB","percentAllMB","disabled","url","getGlobal","_this5","_this$props","replace","downUrl","es_button","Group","size","shape","width","fontSize","opacity","Math","floor","onClick","setTimeout","removeAllListeners","info","curr","all","marginRight","shell","showItemInFolder","message","success","error","writeText","textAlign","progress","format","strokeColor","0%","100%","Boolean","location","hostname","match","path","os","ip","db_inputData","filename","join","getPath","autoload","getUID","c","random","toString","moment","locale","HttpTool","authCookieName","timeout","setEncrypt","stringify","getRequestHeader","other","token","userInfo","data","Authorization","Content-Type","contentType","TimeStrForEachRequest","Date","now","getHashParameter","getHashParameters","hash","arr","substring","split","params","i","length","decodeURIComponent","openPage","page","param","encodeURIComponent","copyText","str","oInput","body","appendChild","select","execCommand","display","removeChild","href","inputHelp","getEventEmitter","EventEmitter","unBind","name","unkey","getDataSource","exeFun","loadDatabase","find","docs","reverse","setDataSource","emit","splice","push","update","newDoc","insert","mynet","getBase","api","post","code","json","option","safe","getCount","getUnGroupCount","getIp","getIPAdress","localIPAddress","interfaces","networkInterfaces","devName","iface","alias","family","address","internal","ip2","UpDate_Root","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f466876a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Root__main__ch5zL\",\"downList\":\"Root__downList__1MHlN\",\"downLayout\":\"Root__downLayout__8MOdO\"};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nif(!window.require){\n    ReactDOM.render(<h2 style={{color:\"#f00\"}}>请在客户端中使用</h2>, document.getElementById('root'));\n}else {\n require(\"./main\")\n}","// @flow\nimport React, { Component } from 'react';\nimport path from 'path'\nimport styles from './Root.less';\nimport { Result, Button, Icon, Progress, message } from 'antd';\n// import { Switch, Route } from 'react-router';\nconst {remote,ipcRenderer,clipboard} = window.require(\"electron\");\nlet packageInfo = require(\"../package.json\");\n\n\n// const {dialog} = require('electron').remote\n\n\n\nexport default class Root extends Component {\n  constructor(props) {\n    super(props);\n    console.log(styles)\n    this.state = {\n      loadType: -1,\n      loadMsg: '检查版本中',\n      filesCurr: [],\n      osType: '',\n      progressing: 0\n    };\n    window.upDateUserInfo = (config,cb)=>{\n      this.upDateUserInfo(config,cb);\n    }\n  }\n\n  initNewApp() {\n    //注意：“downloadProgress”事件可能存在无法触发的问题，只需要限制一下下载网速就好了\n\n    ipcRenderer.on('nodown', (event, text) => {\n      this.setState({\n        loadType: 1,\n        loadMsg: '无需要下载。已是最新版本'\n      });\n        ipcRenderer.send('goMain');\n\n    });\n    ipcRenderer.on('checking', (event, text) => {\n      this.setState({\n        loadType: -1,\n        loadMsg: '检查版本中'\n      });\n    });\n    ipcRenderer.on('error', (event, text) => {\n      this.setState({\n        loadType: -1,\n        loadMsg: '检查版本出错:' + text\n      });\n    });\n    ipcRenderer.on('down', (event, text) => {\n      console.log('服务器消息:' + text);\n      let osType;\n      if (text.indexOf('.dmg') > 0) {\n        osType = 'apple';\n      } else {\n        osType = 'windows';\n      }\n      let filesCurr = JSON.parse(text).files;\n      this.setState({\n        loadType: -1,\n        loadMsg: '检查到新版本',\n        filesCurr,\n        osType\n      });\n    });\n\n    ipcRenderer.send('checkForUpdate');\n  }\n\n  componentDidMount() {\n    this.initNewApp();\n\n    // const dgram = require('dgram');\n    // let udp = dgram.createSocket('udp4');\n    // udp.send('tes22t',10000,'192.168.0.105');\n  }\n\n\n  renderLoad() {\n    let awaken = e => {\n      for (let file of this.state.filesCurr) {\n        file.upState && file.upState(e);\n      }\n    };\n    return (\n\n      <div className={styles.main}>\n        <Result\n          icon={<Icon type=\"smile\" theme=\"twoTone\" />}\n          title={this.state.loadMsg}\n          extra={\n            <div className={styles.downList}>\n\n              {this.state.filesCurr\n                ? this.state.filesCurr.map((file, key) => {\n                    return (\n                      <DownView\n                        key={key}\n                        unKey={'a' + key}\n                        file={file}\n                        osType={this.state.osType}\n                        awaken={awaken}\n                      />\n                    );\n                  })\n                : null}\n            </div>\n          }\n        />\n          <div>当前版本:{remote.app.getVersion()}</div>\n      </div>\n    );\n  }\n\n\n\n  //   return (\n  // <div style={{width:\"100%\",lineHeight:\"200px\",textAlign:\"center\"}}>\n  // {this.state.loadMsg}\n  // {this.state.files?(\n  //   this.state.files.map((file,key)=>{\n  //     console.log(key)\n  //     let url = \"http://localhost:3001/verson/\";\n  //     return <a key = {key} href={url+file.url}>{\"下载\"+file.url + \"大小\"+Math.floor(file.size/(1024*1024))}</a>;\n  //   })\n  // ):null}\n  // </div>\n  // )\n  render() {\n    if (this.state.loadType < 0) {\n      return this.renderLoad();\n    }\n\n    return (\n        <div className={styles.main}>\n            <Result\n                icon={<Icon type=\"smile\" theme=\"twoTone\" />}\n                title={\"您已是最新版本了\"}\n                extra={\n                    <div>当前版本:{remote.app.getVersion()}</div>\n                }\n            />\n\n        </div>\n    );\n  }\n}\n\nclass DownView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      down: 0,\n      percent: 0,\n      msg: '',\n      percentMB: 0,\n      percentAllMB: 0,\n      disabled: false\n    };\n    this.props.file.upState = e => {\n      this.setState({\n        disabled: e\n      });\n    };\n    this.url = remote.getGlobal('updataeURL');\n  }\n\n  render() {\n    let { file, unKey, osType, awaken } = this.props;\n\n    if(osType === \"windows\"){\n      file.url = file.url.replace(/-/g, \" \");\n    }\n    let downUrl = this.url + file.url;\n\n    // downUrl =\"https://img.fuyaomall.com/ElectronReact-0.17.2-mac.zip\";\n    return (\n      <div key={unKey} className={styles.downLayout}>\n        <Button.Group size={'large'} disabled={this.state.disabled}>\n          <Button\n              disabled={this.state.disabled}\n            type={'primary'}\n            shape=\"round\"\n            size={'large'}\n\n          >\n            <span style={{ width: 10 }} />\n            <Icon type={osType} />\n            <span>{'' + file.url}</span>\n            <span style={{ width: 10 }} />\n            <span style={{ fontSize: 12, opacity: 0.5 }}>\n              {Math.floor(file.size / (1024 * 1024)) + 'MB'}\n            </span>\n          </Button>\n            <Button\n                disabled={this.state.disabled}\n                type={'primary'}\n                shape=\"round\"\n                icon=\"download\"\n                size={'large'}\n                onClick={() => {\n                    this.setState(\n                        {\n                            down: 0,\n                            percent: 0\n                        },\n                        () => {\n                            awaken(true);\n                        }\n                    );\n                    setTimeout(() => {\n                        ipcRenderer.removeAllListeners('progressing');\n                        ipcRenderer.removeAllListeners('progressingSuccess');\n                        ipcRenderer.removeAllListeners('progressingError');\n                        ipcRenderer.on('progressing', (event, text) => {\n                            let info = JSON.parse(text);\n                            this.setState({\n                                down: 1,\n                                percent: Math.floor((info.curr / info.all) * 100),\n                                percentMB: Math.floor(info.curr / 1024 / 1024) + 'MB',\n                                percentAllMB: Math.floor(info.all / 1024 / 1024) + 'MB'\n                            });\n                        });\n                        ipcRenderer.on('progressingSuccess', (event, text) => {\n                            awaken(false);\n                            this.setState({\n                                down: -1,\n                                msg: (\n                                    <div>\n                        <span style={{ marginRight: 10 }}>\n                          {'保存路径:' + text}\n                        </span>\n                                        <Button\n                                            icon={'folder-open'}\n                                            onClick={() => {\n                                                remote.shell.showItemInFolder(text);\n                                            }}\n                                        >\n                                            打开安装\n                                        </Button>\n                                    </div>\n                                ),\n                                percent: 100\n                            });\n                            message.success('下载成功 路径:' + text);\n                            remote.shell.showItemInFolder(text);\n                        });\n                        ipcRenderer.on('progressingError', (event, text) => {\n                            awaken(false);\n                            this.setState({\n                                down: -1,\n                                msg: '下载错误:' + text,\n                                percent: 0\n                            });\n                            message.error('下载错误:' + text);\n                        });\n                        ipcRenderer.send('download', downUrl);\n                    }, 300);\n                }}\n            >\n              直接下载\n            </Button>\n          <Button\n            icon={'link'}\n            disabled={this.state.disabled}\n            onClick={() => {\n              clipboard.writeText(downUrl);\n              message.success('内容复制成功！' + downUrl);\n            }}\n          >\n            复制地址\n          </Button>\n        </Button.Group>\n        <div\n          style={{\n              textAlign:\"center\",\n          }}\n        >\n          {this.state.down === 1 ? (\n            <div>\n                <Progress\n                    format={null}\n                    strokeColor={{\n                        '0%': '#108ee9',\n                        '100%': '#87d068'\n                    }}\n                    percent={this.state.percent}\n                />\n            </div>\n          ) : null}\n\n          {this.state.down === -1 ? <div>{this.state.msg}</div> : null}\n        </div>\n      </div>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './UpDate';\n\nimport * as serviceWorker from './serviceWorker';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport { message } from 'antd/lib/index';\n\n\nimport {HttpTool} from '@frame/mylib/mylib/lib/utils';\nimport {EventEmitter} from \"events\"\nimport './app.global.css'\n\nconst {remote} = window.require(\"electron\");\nconst path = window.require('path');\nconst os = window.require('os');\nconst ip = window.require('ip');\n\nlet Datastore = require('nedb');\nlet db_inputData = new Datastore({\n    filename: path.join(remote.app.getPath('userData'), 'db/inputData.txt'),\n    autoload: true\n});\nmoment.locale('zh-cn');\n\nHttpTool.authCookieName = \"remote_manage_AUTH\";\nHttpTool.timeout = 31000;\nHttpTool.setEncrypt(\"-----BEGIN PUBLIC KEY-----\\n\" +\n    \"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC/4ulVTnbc7RAr1xKS0B5Qrca6\\n\" +\n    \"6I/PFqqy5VvhiYgWQibAcVGiArqHo+Xv+vhyMkblIrUx6Rt/S4wysgf/zotzaimB\\n\" +\n    \"YTmoxiLHcCWeMgEPNgAwMs+w67uYVp0lMBmW7qY5/B9DnJ3i0uhnvDTojnzDpXPn\\n\" +\n    \"KEvWC/N9+irUX/DJPQIDAQAB\\n\"+\n    \"-----END PUBLIC KEY-----\");\n\nwindow[\"_NOENCRYPT\"]=JSON.stringify(['/base-usercenter/']);\n// window[\"_CONCAT_API\"]='http://106.14.5.204:4070';\n\n\n\n\nHttpTool.getRequestHeader = function getRequestHeader(other) {\n    let token = \"\";\n    if(window.userInfo&&window.userInfo.data){\n        token = window.userInfo.data.token;\n    }\n    console.log(\"token:\",token)\n    return {\n        \"Authorization\":token,\n        \"Content-Type\": other.contentType,\n        \"TimeStrForEachRequest\": Date.now(),\n        os: \"web_0.0.1\"\n    }\n}\n\n\n\n/**\n * 获取hash参数\n */\nwindow.getHashParameter = function(key){\n    let params = window.getHashParameters();\n    return params[key];\n}\n\nwindow.getHashParameters = function(){\n    if(!window.location.hash||window.location.hash.indexOf(\"#\")<0){\n        return {}\n    }\n    let index = window.location.hash.indexOf(\"?\");\n    if(index<0){\n        return {}\n    }\n    let hash = window.location.hash.substring(window.location.hash.indexOf(\"?\")+1)\n\n    let arr = (hash || \"\").replace(/^\\#/,'').split(\"&\");\n    let params = {};\n    for(let i=0; i<arr.length; i++){\n        let data = arr[i].split(\"=\");\n        if(data.length == 2){\n            params[data[0]] = decodeURIComponent(data[1]);\n        }\n    }\n    return params;\n}\n\nfunction getUID() { // 获取唯一值\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = Math.random()*16|0, v = c === 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n}\n\nwindow.openPage = function(page,param){\n   let hash = page+\"?uuid=\"+getUID()\n    if(param){\n        for(let key in param){\n            if(key){\n                hash +=(\"&\"+key+\"=\"+encodeURIComponent(param[key]));\n            }\n\n        }\n    }\n\n    window.location.hash = hash;\n}\n\nwindow[\"_NOENCRYPT\"]=JSON.stringify(['/base-usercenter/']);\nwindow[\"_CONCAT_API\"]='/myapi';\n\n\n/**\n * 获取hash参数\n */\nwindow.getHashParameter = function(key){\n    let params = window.getHashParameters();\n    return params[key];\n}\n\nwindow.getHashParameters = function(){\n    if(!window.location.hash||window.location.hash.indexOf(\"#\")<0){\n        return {}\n    }\n    let index = window.location.hash.indexOf(\"?\");\n    if(index<0){\n        return {}\n    }\n    let hash = window.location.hash.substring(window.location.hash.indexOf(\"?\")+1)\n\n    let arr = (hash || \"\").replace(/^\\#/,'').split(\"&\");\n    let params = {};\n    for(let i=0; i<arr.length; i++){\n        let data = arr[i].split(\"=\");\n        if(data.length === 2){\n            params[data[0]] = decodeURIComponent(data[1]);\n        }\n    }\n    return params;\n}\n\nwindow.getUID =function() { // 获取唯一值\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c)=> {\n        let r = Math.random()*16|0;\n        let v = c === 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n}\nwindow.copyText = function(str){\n    let oInput = document.createElement('input')\n    oInput.value = str\n    document.body.appendChild(oInput)\n    oInput.select()\n    document.execCommand(\"Copy\")\n    oInput.style.display = 'none'\n    document.body.removeChild(oInput)\n\n    if(str&&str.length>100){\n        str = str.substring(0,100);\n    }\n    message.success(\"复制成功:\"+str)\n}\nwindow.openPage = function(page,param){\n    let hash = page+\"?uuid=\"+getUID()\n    if(param){\n        for(let key in param){\n            if(key){\n                hash +=(\"&\"+key+\"=\"+encodeURIComponent(param[key]));\n            }\n\n        }\n    }\n\n    // #/remote#id=YWZm\n    window.location.href = \"#\"+hash;\n    console.log(hash)\n}\nwindow.inputHelp = {\n    getEventEmitter:()=>{\n        if(!window.inputHelp.event){\n            window.inputHelp.event = new EventEmitter()\n        }\n\n        return  window.inputHelp.event;\n    },\n\n    /**\n     * 卸载组件的时候，要解绑\n     */\n    unBind:(name,unkey)=>{\n        if(!unkey){\n            unkey = \"_nokey\";\n        }\n        window.inputHelp.getEventEmitter().removeAllListeners(name+unkey);\n    },\n    /**\n     * 获取组件的数据源。异步获取。\n     * 同时，监听是否更新了数据。如果更新了。重新获取。\n     * 注：如果同一个NAME使用在了两个地方，并同时生效。\n     * 这种情况，InpuMemoryView.props.unkey字段，不要重复\n     * @param name\n     * @param cb\n     */\n    getDataSource:(name,cb,unkey)=>{\n        //获取的同时，绑定通知更新。如果有更新。进行更新\n        if(!unkey){\n            unkey = \"_nokey\";\n        }\n        let exeFun = ()=>{\n            db_inputData.loadDatabase();\n            db_inputData.find({ name }, (err, docs)=> {\n                if(docs&&docs.length>0){\n                    //倒序\n                    cb(docs[0].data?docs[0].data.reverse():null);\n                }else {\n                    cb(null);\n                }\n            });\n        }\n        window.inputHelp.getEventEmitter().removeAllListeners(name+unkey);\n        window.inputHelp.getEventEmitter().on(name+unkey, ()=>{\n            //通知，要更新组件了\n            exeFun();\n        })\n        exeFun();\n    },\n    setDataSource:(name,value,unkey)=>{\n        if(!unkey){\n            unkey = \"_nokey\";\n        }\n        if(!value){\n            return;\n        }\n        let cb = (e)=>{\n            db_inputData.loadDatabase();\n            //通知这个组件的本身去更新\n            window.inputHelp.getEventEmitter().emit(name+unkey);\n        }\n        db_inputData.loadDatabase();\n        db_inputData.find({name},  (err, docs)=> {\n            if(docs&&docs.length>0){\n                let config = docs[0];\n                if(!config.data){\n                    config.data = [];\n                }\n                if(config.data.indexOf(value)>-1){\n                    cb(null);\n                }else {\n                    //删除老的。最多20条。-1代表最新输入的一条。\n                    let maxCount = 20-1;\n                    if(config.data.length>maxCount){\n                        config.data = config.data.splice(config.data.length-maxCount,config.data.length)\n                    }\n                    config.data.push(value);\n                    db_inputData.update({name},config,{},(e,newDoc)=>{\n                        cb(e);\n                    });\n                }\n\n            }else {\n                let config = {\n                    name,\n                    data:[value]\n                }\n                db_inputData.insert(config,(e,newDoc)=>{\n                    cb(e);\n                })\n            }\n        });\n    }\n\n}\n\n\nwindow.mynet = {\n    getBase:(api,cb,param)=>{\n\n        HttpTool.post(api,\n            (code, msg, json, option) => {\n                cb(msg,json);\n            },\n            (code, msg, option) => {\n                cb(msg,null);\n            },param\n            ,{safe:true}\n\n        )\n\n    },\n    getCount:(cb,param)=>{\n        window.mynet.getBase('/admin/device/getUnBindDeviceNum',cb,param)\n\n    },\n    getUnGroupCount:(cb,param)=>{\n        window.mynet.getBase('/admin/device/getKeyUnBindDeviceNum',cb,param)\n\n    },\n    getIp:(cb)=>{\n        window.mynet.getBase('/admin/device/getExternalIp',cb)\n    },\n\n    /*\n     获取本机IP\n     */\n    getIPAdress:()=> {\n        let localIPAddress = '';\n        let interfaces = os.networkInterfaces();\n        for (let devName in interfaces) {\n            let iface = interfaces[devName];\n            for (let i = 0; i < iface.length; i++) {\n                let alias = iface[i];\n                if (\n                    alias.family === 'IPv4' &&\n                    alias.address !== '127.0.0.1' &&\n                    !alias.internal\n                ) {\n                    localIPAddress = alias.address;\n                }\n            }\n        }\n        let ip2 = ip.address();\n        if (ip2.indexOf('192') === 0) {\n            return ip2;\n        }\n\n        return localIPAddress;\n    }\n\n}\n\n\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}